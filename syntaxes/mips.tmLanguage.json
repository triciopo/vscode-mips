{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "MIPS",
  "scopeName": "source.mips",
  "patterns": [
    {
      "include": "#numeric"
    },
    {
      "include": "#labels"
    },
    {
      "include": "#registers"
    },
    {
      "include": "#comments"
    },
    {
      "include": "#keywords"
    },
    {
      "include": "#strings"
    }
  ],
  "repository": {
    "numeric": {
      "patterns": [
        {
          "name": "constant.numeric.mips",
          "match": "\\b(\\d+|0(x|X)[a-fA-F0-9]+)\\b"
        }
      ]
    },
    "labels": {
      "patterns": [
        {
          "name": "support.variable.mips",
          "match": "^.*?(?=:)"
        },
        {
          "name": "support.class.mips",
          "match": "\\.(data|text|globl|include|extern|eqv|align|kdata|ktext)"
        },
        {
          "name": "support.function.mips",
          "match": "\\.(word|byte|half|float|double|asciiz|ascii|space)"
        }
      ]
    },
    "registers": {
      "patterns": [
        {
          "name": "support.variable.mips",
          "match": "\\$(t[0-9](?![0-9])|v[0-1](?![0-9])|s[0-7](?![0-9])|a[0-3](?![0-9])|f[0-9](?![0-9])|k[0-1](?![0-9]))"
        },
        {
          "name": "support.variable.mips",
          "match": "\\$(gp|sp|fp|ra|zero|0|at)"
        }
      ]
    },
    "comments": {
      "patterns": [
        {
          "match": "(#).*$",
          "name": "comment.mips"
        }
      ]
    },
    "keywords": {
      "patterns": [
        {
          "name": "keyword.operators.mips",
          "match": "\\b(add.s|add.d|add|addi|addiu|addu|sub|subu|mul|mulu|div|divu|rem|remu|neg|negu|move)\\b"
        },
        {
          "name": "keyword.load.mips",
          "match": "\\b(lb|lbu|lh|lhu|lui|lw|lwl|lwr|ll|ld|li|la|lwc1|ldc1)\\b"
        },
        {
          "name": "keyword.store.mips",
          "match": "\\b(sb|sh|sw|sd)\\b"
        },
        {
          "name": "keyword.logic.mips",
          "match": "\\b(and|andi|or|ori|xor|xori|nor|not|sll|sllv|srl|srlv|sra|srav|rol|ror)\\b"
        },
        {
          "name": "keyword.set.mips",
          "match": "\\b(seq|sge|sgeu|sgt|sgtu|sle|sleu|slt|sltu|sne)\\b"
        },
        {
          "name": "keyword.control.mips",
          "match": "\\b(blt|bltz|bltzal|beqz|ble|blez|beq|beqz|bge|bgez|bgezal|bgt|bgtz|bne|bnez|j|jr|jal|jalr|syscall|break)\\b"
        }
      ]
    },
    "strings": {
      "name": "string.quoted.double.mips",
      "begin": "\"",
      "end": "\"",
      "patterns": [
        {
          "name": "keyword.control.mips",
          "match": "\\\\."
        }
      ]
    }
  }
}
